# 管理者権限

## 目次
- [ユーザー種別と権限の概要](#管理者権限)
- [コメント管理画面の権限](#コメント管理画面内のアクションに関する権限をまとめたマトリクス図)
- [リソースコメント画面の権限](#リソースへのコメント画面内のアクションに関する権限をまとめたマトリクス図)
- [利活用画面の権限（閲覧・編集・削除）](#利活用画面内のアクションに関する権限をまとめたマトリクス図閲覧編集削除)
- [利活用画面の権限（認定・承認）](#利活用画面内のアクションに関する権限をまとめたマトリクス図認定承認)

* 以下の4つのユーザーによって、権限を設定しています。
  * システム管理者
    * CKAN全体の管理者権限を持つユーザー
  * 組織管理者
    * 設定されている特定の組織で管理者権限を持つユーザー
  * 組織所属の一般ユーザー(Editor, Member)
    * 特定の組織に登録されているデータセット, リソースの編集のみ可能な一般ユーザー
  * 未ログインユーザー
    * ログインしていないユーザー

* 以下のマトリクス図に則って権限を付与しています
  * 縦軸：ログインの有無、ログインしているユーザーの種別を表現しています
  * 横軸：
    * (1行目)：それぞれの画面で実行可能なアクション(承認・編集 など)を表現しています
    * (2行目)：組織に所属しているユーザーから見たときに、リソースが自身の組織に登録されているか、他の組織に登録されているかを表現しています
    * (3行目)：コメントや利活用方法が承認されているか、承認前の未承認の状態かを表現しています
      * (例1)：コメント管理画面において、組織管理者は自組織に登録されているコメントを承認/未承認問わず閲覧できる(◯と記載されている)
      * (例2)：コメント管理画面において、組織管理者は他組織に登録されているコメントを承認/未承認問わず閲覧できない(×と記載されている)

## コメント管理画面内のアクションに関する権限をまとめたマトリクス図

### コメントの閲覧 / 一括承認・一括削除

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** | ○ | ○ | ○ | ○ |
| **組織管理者** | ○ | ○ | × | × |
| **組織所属 一般ユーザー(Editor, Member)** | × ※1 | × ※1 | × ※1 | × ※1 |
| **未ログイン** | × ※1 | × ※1 | × ※1 | × ※1 |


  **※1 ページのヘッダーにコメント管理画面へ遷移するためのタブが表示されない かつ URL(/management/comments)を指定しても画面へ遷移できない**

## リソースへのコメント画面内のアクションに関する権限をまとめたマトリクス図

### コメントの閲覧

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** | ○ | ○ | ○ | ○ |
| **組織管理者** | ○ | ○ | ○ | × |
| **組織所属 一般ユーザー(Editor, Member)** | ○ | × | ○ | × |
| **未ログイン** | ○ | × | ○ | × |

### コメントへの返信

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** | ○ | ○ | ○ | ○ |
| **組織管理者** | ○ | × | × | × |
| **組織所属 一般ユーザー(Editor, Member)** | × | × | × | × |
| **未ログイン** | × | × | × | × |

### 承認操作

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** |  | ○ |  | ○ |
| **組織管理者** |  | ○ |  | × |
| **組織所属 一般ユーザー(Editor, Member)** |  | × |  | × |
| **未ログイン** |  | × |  | × |

## 利活用画面内のアクションに関する権限をまとめたマトリクス図(閲覧・編集・削除)

### 利活用の閲覧

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** | ○ | ○ | ○ | ○ |
| **組織管理者** | ○ | ○ | ○ ※1| × |
| **組織所属 一般ユーザー(Editor, Member)** | ○ ※2 | × | ○ ※2 | × |
| **未ログイン** | ○ ※2 | × | ○ ※2 | × |

### 利活用の編集・削除

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** | ○ | ○ | ○ | ○ |
| **組織管理者** | ○ | ○ | × | × |
| **組織所属 一般ユーザー(Editor, Member)** | × | × | × | × |
| **未ログイン** | × | × | × | × |

  **※1 Status欄は表示されるが、空欄となる**  
  **※2 Status欄が表示されない**

## 利活用画面内のアクションに関する権限をまとめたマトリクス図(認定・承認)

### 利活用の課題解決認定

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** | ○ | ○ | ○ | ○ |
| **組織管理者** | ○ | ○ | × | × |
| **組織所属 一般ユーザー(Editor, Member)** | × | × | × | × |
| **未ログイン** | × | × | × | × |

### 利活用に対するコメントの承認

|  | 自組織<br>(承認済) | 自組織<br>(未承認) | 他組織<br>(承認済) | 他組織<br>(未承認) |
|--------------|:-------:|:-------:|:-------:|:-------:|
| **システム管理者** |  | ○ |  | ○ |
| **組織管理者** |  | ○ |  | × |
| **組織所属 一般ユーザー(Editor, Member)** |  | × |  | × |
| **未ログイン** |  | × |  | × |

