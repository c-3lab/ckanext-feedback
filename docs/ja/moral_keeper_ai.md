# moral-keeper-ai

本モジュールは、[moral-keeper-ai](https://github.com/c-3lab/moral-keeper-ai)を利用して、コメント投稿時にAIがモラルチェックを行い、問題がある場合に適切な修正案を提示する機能を提供します。  
有効化すると、以下のコメント投稿に適用されます。

- リソースコメント
- 利活用方法コメント

## 導入の利点

- ユーザー投稿の品質向上
  - 不適切な表現を事前に修正でき、建設的な議論を促進する
  - 読み手にとって分かりやすく、誤解を生みにくいコメントを維持できる

- モデレーションの負担軽減
  - 手動でのコメントチェックが不要になり、運用コストを削減できる
  - 一貫した基準で自動評価が行われ、公平性を保つことができる

- コミュニティの健全性維持
  - 攻撃的な表現や曖昧な意見を抑制し、より良い環境を提供できる
  - ユーザーが適切なフィードバックを受けることで、より適切な表現を学習できる

## 機能説明

### モラル評価

AIは以下の観点でコメントを評価します。

### 修正案の提示

問題のあるコメントが検出された場合、ユーザーに適切な表現を提案します。

| 観点 | NG例 | 修正案 |
| :-: | :-: | :-: |
| 読者に不快感を与えない | 「このデータはクソだ」 | 「このデータは改善の余地がある」 |
| 世間の反発を回避 | 「政府は嘘ばかりつく」 | 「政府の発表と異なる情報がある」 |
| 曖昧な意見投稿を抑制 | 「よくわからない」 | 「具体的なデータが不足しているように思う」 |

## 制約事項

- コメントへの返信は、オリジナルの投稿内容との関連性が強く、独立した評価が難しいため適用外としています。
- 利用するAIのモデルやエンドポイントは`moral-keeper-ai`に依存します。  
詳しくは[moral-keeper-ai](https://github.com/c-3lab/moral-keeper-ai)を参照してください。

## インストール方法

### 環境変数の設定

以下の環境変数を設定してください。  
コンテナの環境変数設定などに記載してください。

```
AZURE_OPENAI_DEPLOY_NAME='your-deploy-name'
AZURE_OPENAI_API_KEY='your-api-key'
AZURE_OPENAI_ENDPOINT='https://your-endpoint-url.com/'
```

### moral-keeper-aiの取得

コンテナ環境などで以下のコマンドを実行してください。

```
pip install moral-keeper-ai
```

### feedbackのインストール

* [クイックスタート](../../README.md) **1~4番**の手順を参照してください。

## オプション

設定方法は以下のドキュメントをご参照ください。  
[ON/OFF機能の詳細ドキュメント](./switch_function.md)
